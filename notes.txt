versioned save

** save new model

- create a dev model with no valid date and version #0
- fill any values provided




** update versioned model (dev model)

- save changes to the dev model




** publish versioned model

- set previous version valid_to date to now() - 1 second
- set dev model valid_from date to now()
- set dev model valid_to date to now() + 100 years
- set dev model version to previous version + 1
- set dev model published to true now making it the current model
- create a copy of current model's versioned properties 
  and mark it as the unpublished dev model

** un-publish versioned model

- set published to 0


** deactivate versioned model

- set current version valid_to date to now() - 1 second
- set active to false


** delete versioned model

- check for references to the parent model and delete if none
- check each version for references and delete if none